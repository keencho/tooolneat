<!DOCTYPE html>
<html lang="ko">
<head>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8846557285079359" crossorigin="anonymous"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PDF 압축 - Toolneat</title>
  <meta name="description" content="PDF 파일 크기를 줄이는 무료 온라인 도구입니다. 이미지 품질을 조절하여 최대 80%까지 압축. 이메일 첨부, 웹 업로드에 적합한 크기로 변환합니다. 브라우저에서 처리되어 안전합니다.">
  <link rel="canonical" href="https://toolneat.com/tools/pdf/compress-pdf/">
  <link rel="alternate" hreflang="ko" href="https://toolneat.com/tools/pdf/compress-pdf/">
  <link rel="alternate" hreflang="en" href="https://toolneat.com/en/tools/pdf/compress-pdf/">
  <link rel="alternate" hreflang="x-default" href="https://toolneat.com/tools/pdf/compress-pdf/">
  <link rel="icon" href="/favicon.ico" sizes="48x48">
  <link rel="icon" type="image/svg+xml" href="/assets/icons/favicon.svg">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
  <link rel="stylesheet" href="../../../assets/css/output.css">
  <script src="../../../assets/js/common.js"></script>
  <script src="../../../assets/js/i18n.js"></script>
  <script src="../../../assets/js/components.js"></script>
  <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Toolneat">
  <meta property="og:title" content="PDF 압축 - Toolneat">
  <meta property="og:description" content="PDF 파일 크기를 줄이는 무료 온라인 도구입니다.">
  <meta property="og:url" content="https://toolneat.com/tools/pdf/compress-pdf">
  <meta property="og:image" content="https://toolneat.com/assets/images/og-image.png">
  <meta property="og:locale" content="ko_KR">
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"WebApplication","name":"PDF 압축","description":"PDF 파일 크기를 줄이는 무료 온라인 도구입니다.","url":"https://toolneat.com/tools/pdf/compress-pdf","applicationCategory":"UtilitiesApplication","operatingSystem":"Any","offers":{"@type":"Offer","price":"0","priceCurrency":"KRW"},"author":{"@type":"Organization","name":"Toolneat"}}
  </script>
  <style>
    .drop-zone{border:2px dashed #d1d5db;border-radius:16px;padding:48px 24px;text-align:center;transition:all .2s;cursor:pointer}
    .dark .drop-zone{border-color:#4b5563}
    .drop-zone:hover,.drop-zone.drag-over{border-color:#3b82f6;background:#eff6ff}
    .dark .drop-zone:hover,.dark .drop-zone.drag-over{background:#1e3a5f}
    .quality-slider{-webkit-appearance:none;width:100%;height:8px;border-radius:4px;background:#e5e7eb;outline:none}
    .dark .quality-slider{background:#374151}
    .quality-slider::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:20px;border-radius:50%;background:#3b82f6;cursor:pointer}
  </style>
</head>
<body class="min-h-screen flex flex-col">
  <div id="header"></div>
  <main class="flex-1 py-8 md:py-12">
    <div class="container-main">
      <div class="mb-6">
        <h1 class="text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mb-2">PDF 압축</h1>
        <p class="text-gray-600 dark:text-gray-400">PDF 파일 크기를 줄여 이메일 첨부나 웹 업로드에 적합하게 만듭니다.</p>
      </div>
      <div class="card">
        <div id="upload-section">
          <div id="drop-zone" class="drop-zone">
            <svg class="w-12 h-12 mx-auto mb-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/></svg>
            <p class="text-gray-600 dark:text-gray-400 mb-2">PDF 파일을 드래그하거나 클릭하여 선택</p>
            <p class="text-sm text-gray-400">최대 50MB</p>
          </div>
          <input type="file" id="file-input" accept=".pdf" class="hidden">
        </div>
        <div id="compress-section" class="hidden">
          <div class="flex items-center justify-between mb-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-xl">
            <div>
              <p id="file-name" class="font-medium text-gray-900 dark:text-white"></p>
              <p id="original-size" class="text-sm text-gray-500"></p>
            </div>
            <button id="change-file" class="text-blue-500 hover:underline text-sm">파일 변경</button>
          </div>
          <div class="mb-6">
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">압축 품질: <span id="quality-value">70</span>%</label>
            <input type="range" id="quality" class="quality-slider" min="10" max="100" value="70">
            <div class="flex justify-between text-xs text-gray-400 mt-1">
              <span>최대 압축</span>
              <span>고품질</span>
            </div>
          </div>
          <button id="compress-btn" class="btn btn-primary w-full">압축하기</button>
        </div>
        <div id="result-section" class="hidden">
          <div class="text-center py-8">
            <svg class="w-16 h-16 mx-auto mb-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
            <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">압축 완료!</h3>
            <div class="flex justify-center gap-8 mb-4">
              <div><p class="text-sm text-gray-500">원본</p><p id="result-original" class="font-bold text-gray-900 dark:text-white"></p></div>
              <div class="text-2xl text-gray-300">→</div>
              <div><p class="text-sm text-gray-500">압축 후</p><p id="result-compressed" class="font-bold text-green-500"></p></div>
            </div>
            <p id="result-percent" class="text-sm text-gray-500 mb-6"></p>
            <div class="flex gap-3">
              <button id="download-btn" class="btn btn-primary flex-1">다운로드</button>
              <button id="new-btn" class="btn btn-secondary flex-1">새 파일</button>
            </div>
          </div>
        </div>
      </div>
      <section class="mt-8 bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700">
        <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">PDF 압축이란?</h2>
        <div class="prose prose-gray dark:prose-invert max-w-none text-sm">
          <p class="text-gray-600 dark:text-gray-400 mb-4">PDF 파일에 포함된 이미지의 품질을 조절하여 파일 크기를 줄이는 도구입니다. 이메일 첨부 용량 제한이나 웹사이트 업로드 시 유용합니다.</p>
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white mt-6 mb-3">사용 방법</h3>
          <ol class="list-decimal list-inside space-y-2 text-gray-600 dark:text-gray-400 mb-4">
            <li>압축할 PDF 파일을 선택합니다</li>
            <li>압축 품질을 조절합니다 (낮을수록 파일 크기 감소)</li>
            <li>'압축하기' 버튼을 클릭합니다</li>
            <li>압축된 PDF를 다운로드합니다</li>
          </ol>
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white mt-6 mb-3">자주 묻는 질문</h3>
          <div class="space-y-4">
            <div><h4 class="font-medium text-gray-900 dark:text-white">Q: 압축하면 품질이 많이 떨어지나요?</h4><p class="text-gray-600 dark:text-gray-400">이미지 품질은 다소 감소하지만 텍스트는 그대로 유지됩니다. 70% 정도면 일반적인 용도에 충분합니다.</p></div>
            <div><h4 class="font-medium text-gray-900 dark:text-white">Q: 얼마나 압축되나요?</h4><p class="text-gray-600 dark:text-gray-400">이미지가 많은 PDF는 최대 80%까지 크기가 줄어들 수 있습니다. 텍스트 위주 PDF는 효과가 적습니다.</p></div>
            <div><h4 class="font-medium text-gray-900 dark:text-white">Q: 비밀번호 걸린 PDF도 가능한가요?</h4><p class="text-gray-600 dark:text-gray-400">암호화된 PDF는 압축할 수 없습니다. 먼저 암호를 해제해야 합니다.</p></div>
          </div>
          <p class="text-gray-600 dark:text-gray-400 mt-4">모든 처리는 브라우저에서 이루어지며 서버로 전송되지 않습니다.</p>
        </div>
      </section>
    </div>
  </main>
  <div id="footer"></div>
  <div id="loading-overlay" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50">
    <div class="bg-white dark:bg-gray-800 rounded-2xl p-8 text-center">
      <div class="w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
      <p id="loading-text" class="text-gray-600 dark:text-gray-400">압축 중...</p>
    </div>
  </div>
  <script>
    pdfjsLib.GlobalWorkerOptions.workerSrc='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
    const dropZone=document.getElementById('drop-zone'),fileInput=document.getElementById('file-input'),uploadSection=document.getElementById('upload-section'),compressSection=document.getElementById('compress-section'),resultSection=document.getElementById('result-section'),qualitySlider=document.getElementById('quality'),qualityValue=document.getElementById('quality-value'),loadingOverlay=document.getElementById('loading-overlay');
    let selectedFile=null,compressedBlob=null;

    dropZone.addEventListener('click',()=>fileInput.click());
    dropZone.addEventListener('dragover',e=>{e.preventDefault();dropZone.classList.add('drag-over')});
    dropZone.addEventListener('dragleave',()=>dropZone.classList.remove('drag-over'));
    dropZone.addEventListener('drop',e=>{e.preventDefault();dropZone.classList.remove('drag-over');if(e.dataTransfer.files[0])handleFile(e.dataTransfer.files[0])});
    fileInput.addEventListener('change',e=>{if(e.target.files[0])handleFile(e.target.files[0])});

    function handleFile(file){
      if(!file.type.includes('pdf')){toast.error('PDF 파일만 선택 가능합니다.');return}
      if(file.size>50*1024*1024){toast.error('50MB 이하 파일만 가능합니다.');return}
      selectedFile=file;
      document.getElementById('file-name').textContent=file.name;
      document.getElementById('original-size').textContent=formatSize(file.size);
      uploadSection.classList.add('hidden');
      compressSection.classList.remove('hidden');
    }

    document.getElementById('change-file').addEventListener('click',()=>{
      uploadSection.classList.remove('hidden');
      compressSection.classList.add('hidden');
      fileInput.value='';
    });

    qualitySlider.addEventListener('input',e=>qualityValue.textContent=e.target.value);

    document.getElementById('compress-btn').addEventListener('click',async()=>{
      loadingOverlay.classList.remove('hidden');
      loadingOverlay.classList.add('flex');
      try{
        const quality=parseInt(qualitySlider.value)/100;
        const arrayBuffer=await selectedFile.arrayBuffer();
        const pdfDoc=await pdfjsLib.getDocument({data:arrayBuffer}).promise;
        const newPdf=await PDFLib.PDFDocument.create();

        for(let i=1;i<=pdfDoc.numPages;i++){
          document.getElementById('loading-text').textContent=`페이지 ${i}/${pdfDoc.numPages} 처리 중...`;
          const page=await pdfDoc.getPage(i);
          const viewport=page.getViewport({scale:quality<0.5?1:1.5});
          const canvas=document.createElement('canvas');
          canvas.width=viewport.width;
          canvas.height=viewport.height;
          await page.render({canvasContext:canvas.getContext('2d'),viewport}).promise;
          const imgData=canvas.toDataURL('image/jpeg',quality);
          const imgBytes=await fetch(imgData).then(r=>r.arrayBuffer());
          const img=await newPdf.embedJpg(imgBytes);
          const newPage=newPdf.addPage([img.width,img.height]);
          newPage.drawImage(img,{x:0,y:0,width:img.width,height:img.height});
        }

        const pdfBytes=await newPdf.save();
        compressedBlob=new Blob([pdfBytes],{type:'application/pdf'});

        document.getElementById('result-original').textContent=formatSize(selectedFile.size);
        document.getElementById('result-compressed').textContent=formatSize(compressedBlob.size);
        const percent=Math.round((1-compressedBlob.size/selectedFile.size)*100);
        document.getElementById('result-percent').textContent=percent>0?`${percent}% 감소`:percent<0?`${Math.abs(percent)}% 증가 (원본이 이미 최적화됨)`:'변화 없음';

        compressSection.classList.add('hidden');
        resultSection.classList.remove('hidden');
        toast.success('압축 완료!');
      }catch(e){
        console.error(e);
        toast.error('압축 중 오류가 발생했습니다.');
      }finally{
        loadingOverlay.classList.add('hidden');
        loadingOverlay.classList.remove('flex');
      }
    });

    document.getElementById('download-btn').addEventListener('click',()=>{
      const a=document.createElement('a');
      a.href=URL.createObjectURL(compressedBlob);
      a.download=selectedFile.name.replace('.pdf','_compressed.pdf');
      a.click();
    });

    document.getElementById('new-btn').addEventListener('click',()=>{
      resultSection.classList.add('hidden');
      uploadSection.classList.remove('hidden');
      fileInput.value='';
      selectedFile=null;
      compressedBlob=null;
    });

    function formatSize(bytes){
      if(bytes<1024)return bytes+' B';
      if(bytes<1024*1024)return(bytes/1024).toFixed(1)+' KB';
      return(bytes/(1024*1024)).toFixed(1)+' MB';
    }
  </script>
</body>
</html>
