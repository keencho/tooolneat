<!DOCTYPE html>
<html lang="ko">
<head>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8846557285079359"
     crossorigin="anonymous"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-i18n-title="tools.ddayCalculator.title">D-day 계산기 - Toolneat</title>
  <meta name="description" data-i18n-desc="tools.ddayCalculator.description" content="D-day를 계산하는 온라인 도구입니다. 목표 날짜를 선택하면 오늘부터 며칠 남았는지 자동으로 계산합니다. 수능, 자격증 시험, 결혼기념일, 생일, 여행, 프로젝트 마감일 등 중요한 날까지의 카운트다운을 확인하세요. 두 날짜 사이의 일수 차이 계산도 가능합니다.">

  <!-- Canonical & hreflang -->
  <link rel="canonical" href="https://toolneat.com/tools/life/dday-calculator/">
  <link rel="alternate" hreflang="ko" href="https://toolneat.com/tools/life/dday-calculator/">
  <link rel="alternate" hreflang="en" href="https://toolneat.com/en/tools/life/dday-calculator/">
  <link rel="alternate" hreflang="x-default" href="https://toolneat.com/tools/life/dday-calculator/">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Toolneat">
  <meta property="og:title" content="D-day 계산기 - Toolneat">
  <meta property="og:description" content="특정 날짜까지 남은 일수를 계산합니다.">
  <meta property="og:url" content="https://toolneat.com/tools/life/dday-calculator/">
  <meta property="og:image" content="https://toolneat.com/assets/images/og-image.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="theme-color" content="#2563eb">

  <!-- Favicon -->
  <!-- CSS -->
    <link rel="icon" href="/favicon.ico" sizes="48x48">
  <link rel="icon" type="image/svg+xml" href="/assets/icons/favicon.svg">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
  <link rel="stylesheet" href="../../../assets/css/output.css">

  <!-- JS -->
  <script src="../../../assets/js/common.js"></script>
  <script src="../../../assets/js/i18n.js"></script>
  <script src="../../../assets/js/components.js"></script>
</head>
<body class="min-h-screen flex flex-col">
  <!-- Header -->
  <div id="header"></div>

  <!-- Main Content -->
  <main class="flex-1 py-8 md:py-12">
    <div class="container-main">
      <!-- Page Title -->
      <div class="mb-6">
        <h1 class="text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mb-2" data-i18n="tools.ddayCalculator.title">
          D-day 계산기
        </h1>
        <p class="text-gray-600 dark:text-gray-400" data-i18n="tools.ddayCalculator.descriptionLong">
          시험, 기념일, 여행 등 중요한 날짜까지 남은 일수를 계산합니다. 두 날짜 사이의 차이도 계산할 수 있습니다.
        </p>
      </div>

      <!-- Ad Container (Top) -->
      <div class="ad-container mb-6">
        
      </div>

      <!-- Tool Card -->
      <div class="card">
        <!-- Date Input -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
          <!-- Target Date -->
          <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" data-i18n="tools.ddayCalculator.targetDate">목표 날짜</label>
            <input
              type="date"
              id="target-date"
              class="input py-3"
            >
          </div>

          <!-- Event Name (Optional) -->
          <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" data-i18n="tools.ddayCalculator.eventName">이벤트 이름 (선택)</label>
            <input
              type="text"
              id="event-name"
              class="input py-3"
              placeholder="예: 여행, 시험, 생일..."
              data-i18n-placeholder="tools.ddayCalculator.eventPlaceholder"
            >
          </div>
        </div>

        <!-- Quick Select -->
        <div class="mb-6">
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" data-i18n="tools.ddayCalculator.quickSelect">빠른 선택</label>
          <div class="flex flex-wrap gap-2">
            <button class="quick-date btn btn-secondary text-sm py-1.5 px-3" data-days="7" data-i18n="tools.ddayCalculator.oneWeek">1주일 후</button>
            <button class="quick-date btn btn-secondary text-sm py-1.5 px-3" data-days="30" data-i18n="tools.ddayCalculator.oneMonth">1개월 후</button>
            <button class="quick-date btn btn-secondary text-sm py-1.5 px-3" data-days="100" data-i18n="tools.ddayCalculator.hundredDays">100일 후</button>
            <button class="quick-date btn btn-secondary text-sm py-1.5 px-3" data-date="new-year" data-i18n="tools.ddayCalculator.newYear">새해</button>
            <button class="quick-date btn btn-secondary text-sm py-1.5 px-3" data-date="christmas" data-i18n="tools.ddayCalculator.christmas">크리스마스</button>
          </div>
        </div>

        <!-- Result Display -->
        <div id="result" class="hidden">
          <!-- D-day Count -->
          <div class="bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl p-6 mb-6 text-white text-center">
            <div id="event-display" class="text-sm opacity-90 mb-2"></div>
            <div id="dday-display" class="text-4xl md:text-5xl font-bold mb-2">D-0</div>
            <div id="date-display" class="text-sm opacity-75"></div>
          </div>

          <!-- Detail Info -->
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
            <div class="bg-gray-50 dark:bg-gray-800 rounded-xl p-4 text-center">
              <div id="total-days" class="text-2xl font-bold text-gray-900 dark:text-white">0</div>
              <div class="text-sm text-gray-500 dark:text-gray-400" data-i18n="tools.ddayCalculator.days">일</div>
            </div>
            <div class="bg-gray-50 dark:bg-gray-800 rounded-xl p-4 text-center">
              <div id="total-weeks" class="text-2xl font-bold text-gray-900 dark:text-white">0</div>
              <div class="text-sm text-gray-500 dark:text-gray-400" data-i18n="tools.ddayCalculator.weeks">주</div>
            </div>
            <div class="bg-gray-50 dark:bg-gray-800 rounded-xl p-4 text-center">
              <div id="total-months" class="text-2xl font-bold text-gray-900 dark:text-white">0</div>
              <div class="text-sm text-gray-500 dark:text-gray-400" data-i18n="tools.ddayCalculator.months">개월</div>
            </div>
            <div class="bg-gray-50 dark:bg-gray-800 rounded-xl p-4 text-center">
              <div id="total-hours" class="text-2xl font-bold text-gray-900 dark:text-white">0</div>
              <div class="text-sm text-gray-500 dark:text-gray-400" data-i18n="tools.ddayCalculator.hours">시간</div>
            </div>
          </div>

          <!-- Weekday Info -->
          <div class="p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl">
            <div class="flex items-center justify-between">
              <span class="text-sm text-blue-700 dark:text-blue-300" data-i18n="tools.ddayCalculator.weekday">요일</span>
              <span id="weekday-display" class="font-medium text-blue-800 dark:text-blue-200"></span>
            </div>
          </div>
        </div>

        <!-- Empty State -->
        <div id="empty-state" class="py-12 text-center">
          <svg class="w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
          </svg>
          <p class="text-gray-500 dark:text-gray-400" data-i18n="tools.ddayCalculator.selectDate">날짜를 선택하세요</p>
        </div>
      </div>

      <!-- Date Difference Calculator -->
      <div class="card mt-6">
        <h2 class="text-lg font-bold text-gray-900 dark:text-white mb-4" data-i18n="tools.ddayCalculator.dateDiff">두 날짜 사이 계산</h2>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" data-i18n="tools.ddayCalculator.startDate">시작일</label>
            <input type="date" id="start-date" class="input py-2">
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" data-i18n="tools.ddayCalculator.endDate">종료일</label>
            <input type="date" id="end-date" class="input py-2">
          </div>
        </div>

        <div id="diff-result" class="hidden p-4 bg-gray-50 dark:bg-gray-800 rounded-xl text-center">
          <span class="text-2xl font-bold text-gray-900 dark:text-white" id="diff-days">0</span>
          <span class="text-gray-500 dark:text-gray-400 ml-1" data-i18n="tools.ddayCalculator.daysDiff">일 차이</span>
        </div>
      </div>

      <!-- Description Section -->
      <section class="mt-8 bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700">
        <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">D-day 계산기란?</h2>
        <div class="prose prose-gray dark:prose-invert max-w-none text-sm">
          <p>D-day 계산기는 특정 목표 날짜까지 남은 일수를 계산해주는 도구입니다. 시험일, 기념일, 여행 출발일, 프로젝트 마감일 등 중요한 날까지 얼마나 남았는지 한눈에 파악할 수 있습니다.</p>
          <p class="mt-3">오늘 기준으로 미래 날짜는 D-로, 지난 날짜는 D+로 표시됩니다. 주, 개월, 시간 단위로도 환산하여 볼 수 있어 다양한 시간 계획에 활용할 수 있습니다.</p>

          <h3 class="text-lg font-semibold mt-6 mb-3">사용 방법</h3>
          <ol class="list-decimal list-inside space-y-2">
            <li>목표 날짜를 달력에서 선택합니다</li>
            <li>이벤트 이름을 입력합니다 (선택사항)</li>
            <li>또는 빠른 선택 버튼(1주일 후, 100일 후, 크리스마스 등)을 클릭합니다</li>
            <li>D-day 카운트와 세부 정보(주, 개월, 시간)가 자동으로 표시됩니다</li>
            <li>두 날짜 사이의 일수 차이도 계산할 수 있습니다</li>
          </ol>

          <h3 class="text-lg font-semibold mt-6 mb-3">자주 묻는 질문</h3>
          <div class="space-y-4">
            <div>
              <h4 class="font-medium">Q: D-day와 D+의 차이는 무엇인가요?</h4>
              <p>D-day는 목표일 당일을 의미하고, D-1은 하루 전, D+1은 하루 후입니다. 목표일이 오늘이면 D-Day!, 아직 오지 않았으면 D-숫자, 지났으면 D+숫자로 표시됩니다.</p>
            </div>
            <div>
              <h4 class="font-medium">Q: 100일 기념일은 어떻게 계산하나요?</h4>
              <p>사귀기 시작한 날을 1일로 계산하면 99일 후가 100일입니다. 두 날짜 사이 계산 기능을 활용하면 정확한 일수를 확인할 수 있습니다.</p>
            </div>
            <div>
              <h4 class="font-medium">Q: 근무일(영업일) 기준으로 계산할 수 있나요?</h4>
              <p>현재 이 계산기는 달력일(calendar days) 기준으로 계산합니다. 근무일 기준 계산이 필요하면 주말과 공휴일을 수동으로 제외해야 합니다.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Ad Container (Bottom) -->
      <div class="ad-container mt-8">

      </div>
    </div>
  </main>

  <!-- Footer -->
  <div id="footer"></div>

  <!-- Tool Script -->
  <script>
    (function() {
      'use strict';

      const targetDateInput = document.getElementById('target-date');
      const eventNameInput = document.getElementById('event-name');
      const result = document.getElementById('result');
      const emptyState = document.getElementById('empty-state');
      const quickDateBtns = document.querySelectorAll('.quick-date');

      const startDateInput = document.getElementById('start-date');
      const endDateInput = document.getElementById('end-date');
      const diffResult = document.getElementById('diff-result');

      const weekdaysKo = ['일요일', '월요일', '화요일', '수요일', '목요일', '금요일', '토요일'];
      const weekdaysEn = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];

      function getWeekday(dayIndex) {
        const lang = typeof getCurrentLang === 'function' ? getCurrentLang() : 'ko';
        return lang === 'en' ? weekdaysEn[dayIndex] : weekdaysKo[dayIndex];
      }

      // 로컬 타임존 기반 날짜 포맷 (YYYY-MM-DD)
      function toLocalDateString(date) {
        const year = date.getFullYear();
        const month = String(date.getMonth() + 1).padStart(2, '0');
        const day = String(date.getDate()).padStart(2, '0');
        return `${year}-${month}-${day}`;
      }

      // 날짜 문자열을 로컬 Date로 파싱 (UTC 변환 방지)
      function parseLocalDate(dateStr) {
        const [year, month, day] = dateStr.split('-').map(Number);
        return new Date(year, month - 1, day);
      }

      // Set default to today (로컬 타임존)
      const today = new Date();
      today.setHours(0, 0, 0, 0);

      // Calculate D-day
      function calculate() {
        const targetValue = targetDateInput.value;
        if (!targetValue) {
          result.classList.add('hidden');
          emptyState.classList.remove('hidden');
          return;
        }

        const target = parseLocalDate(targetValue);

        const diffTime = target - today;
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

        // D-day display
        let ddayText;
        if (diffDays > 0) {
          ddayText = `D-${diffDays}`;
        } else if (diffDays === 0) {
          ddayText = 'D-Day!';
        } else {
          ddayText = `D+${Math.abs(diffDays)}`;
        }

        const eventName = eventNameInput.value.trim();
        const absDays = Math.abs(diffDays);

        // Update display
        const lang = typeof getCurrentLang === 'function' ? getCurrentLang() : 'ko';
        const defaultLabel = diffDays >= 0
          ? (lang === 'en' ? 'Until target' : '목표일까지')
          : (lang === 'en' ? 'Elapsed' : '경과일');
        document.getElementById('event-display').textContent = eventName || defaultLabel;
        document.getElementById('dday-display').textContent = ddayText;
        document.getElementById('date-display').textContent = formatDate(target);
        document.getElementById('total-days').textContent = formatNumber(absDays);
        document.getElementById('total-weeks').textContent = (absDays / 7).toFixed(1);
        document.getElementById('total-months').textContent = (absDays / 30).toFixed(1);
        document.getElementById('total-hours').textContent = formatNumber(absDays * 24);
        document.getElementById('weekday-display').textContent = getWeekday(target.getDay());

        result.classList.remove('hidden');
        emptyState.classList.add('hidden');
      }

      // Format date (언어별)
      function formatDate(date) {
        const lang = typeof getCurrentLang === 'function' ? getCurrentLang() : 'ko';
        if (lang === 'en') {
          const options = { year: 'numeric', month: 'long', day: 'numeric' };
          return date.toLocaleDateString('en-US', options);
        }
        return `${date.getFullYear()}년 ${date.getMonth() + 1}월 ${date.getDate()}일`;
      }

      // Quick date buttons
      quickDateBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          const days = btn.dataset.days;
          const dateType = btn.dataset.date;

          let targetDate;

          if (days) {
            targetDate = new Date(today);
            targetDate.setDate(targetDate.getDate() + parseInt(days));
          } else if (dateType === 'new-year') {
            const year = today.getMonth() === 11 && today.getDate() > 25 ? today.getFullYear() + 1 : today.getFullYear() + 1;
            targetDate = new Date(year, 0, 1);
          } else if (dateType === 'christmas') {
            const year = today.getMonth() === 11 && today.getDate() > 25 ? today.getFullYear() + 1 : today.getFullYear();
            targetDate = new Date(year, 11, 25);
          }

          if (targetDate) {
            targetDateInput.value = toLocalDateString(targetDate);
            eventNameInput.value = btn.textContent.trim();
            calculate();
          }
        });
      });

      // Date difference calculator
      function calculateDiff() {
        const start = startDateInput.value;
        const end = endDateInput.value;

        if (!start || !end) {
          diffResult.classList.add('hidden');
          return;
        }

        const startDate = parseLocalDate(start);
        const endDate = parseLocalDate(end);
        const diffDays = Math.ceil((endDate - startDate) / (1000 * 60 * 60 * 24));

        document.getElementById('diff-days').textContent = formatNumber(Math.abs(diffDays));
        diffResult.classList.remove('hidden');
      }

      // Event listeners
      targetDateInput.addEventListener('change', calculate);
      eventNameInput.addEventListener('input', calculate);
      startDateInput.addEventListener('change', calculateDiff);
      endDateInput.addEventListener('change', calculateDiff);

      // 언어 변경 시 자동 업데이트
      document.addEventListener('i18nApplied', () => {
        if (targetDateInput.value) calculate();
      });
    })();
  </script>
</body>
</html>
